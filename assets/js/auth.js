function isValid(e,t){var n=sessionStorage.getItem("valid-"+e);if(null!==n){var o=parseInt(sessionStorage.getItem("timestamp-"+e));return(new Date).getTime()-o>36e5*t?(sessionStorage.removeItem("valid-"+e),sessionStorage.removeItem("timestamp-"+e),!1):"true"===n}return!1}function showAlert(e){var t=document.createElement("div");t.style.position="fixed",t.style.top="50%",t.style.left="50%",t.style.transform="translate(-50%, -50%)",t.style.background="#fff",t.style.padding="20px",t.style.border="1px solid #000",t.style.boxShadow="0 0 10px rgba(0, 0, 0, 0.3)",t.style.zIndex="9999",t.innerText=e,document.body.appendChild(t),setTimeout(function(){document.body.removeChild(t)},2e3)}function showPrompt(e,t){return new Promise(function(n,o){var a=document.createElement("div");a.style.position="fixed",a.style.top="50%",a.style.left="50%",a.style.transform="translate(-50%, -50%)",a.style.background="#fff",a.style.padding="20px",a.style.border="2px solid #000",a.style.boxShadow="0 0 10px rgba(0, 0, 0, 0.3)",a.style.zIndex="9999";var s=document.createElement("input");s.type=e,s.style.width="calc(100% - 24px)",s.style.padding="10px",s.style.marginBottom="18px",s.style.border="2px solid #000",s.placeholder=t;var r=document.createElement("button");r.innerText="\u786e\u8ba4",r.style.width="48%",r.style.padding="10px",r.style.background="#007bff",r.style.color="#fff",r.style.border="none",r.style.cursor="pointer",r.style.float="left";var d=document.createElement("button");d.innerText="\u53d6\u6d88",d.style.width="48%",d.style.padding="10px",d.style.background="#dc3545",d.style.color="#fff",d.style.border="none",d.style.cursor="pointer",d.style.float="right",r.onclick=function(){document.body.removeChild(a),n(s.value)},d.onclick=function(){document.body.removeChild(a),o(new Error("\u7528\u6237\u53d6\u6d88\u8f93\u5165\u5bc6\u7801"))},a.appendChild(s),a.appendChild(r),a.appendChild(d),document.body.appendChild(a)})}function validatePass(e,t){document.querySelector("main").style.display="block",sessionStorage.setItem("valid-"+e,"true"),sessionStorage.setItem("timestamp-"+e,(new Date).getTime()),sessionStorage.setItem("password-"+e,t)}function validateFailed(){showAlert("\u62b1\u6b49\uff0c\u60a8\u65e0\u6743\u9650\u9605\u8bfb\u8be5\u6587\u7ae0\u3002"),setTimeout(function(){window.location.href="/"},2e3)}function validatePassword(){document.querySelector("main").style.display="none",showPrompt("password","\u8bf7\u8f93\u5165\u9605\u8bfb\u5bc6\u7801:").then(function(e){var t=CryptoJS.MD5(e).toString().toUpperCase();showDecryptContent(t)?validatePass("password",t):validateFailed()})["catch"](function(){validateFailed()})}function validateCode(){document.querySelector("main").style.display="none";var e=generateRandomCode();showPrompt("text","\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801:"+e).then(function(t){if(t===e){var n="F4CE5D334270696CF7C4DB30A2D14522";showDecryptContent(n),validatePass("text",n)}else validateFailed()})["catch"](function(){validateFailed()})}function generateRandomCode(){return Math.floor(1e4*Math.random()).toString().padStart(4,"0")}function loadExternalScript(e){const t=document.createElement("script");t.src=e,t.async=!0,document.head.appendChild(t)}function loadExternalScript(e,t){const n=document.createElement("script");n.src=e,n.async=!0,n.onload=t,document.head.appendChild(n)}